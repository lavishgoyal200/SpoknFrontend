import{a as m}from"../vendor-react-Bo3cQ_TK.js";import{$ as l}from"../vendor-@react-stately/flags-DVfiET8C.js";import"../vendor-react-dom-CbvJyPzC.js";const M=typeof document<"u"?m.useLayoutEffect:()=>{},v=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},O=t=>t&&"window"in t&&t.window===t?t:v(t).defaultView||window;function E(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function T(t){return E(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}function p(t,e){if(!l())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:T(r)?r=r.host:r=r.parentNode}return!1}const P=(t=document)=>{var e;if(!l())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function W(t){return l()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}class _{get currentNode(){return this._currentNode}set currentNode(e){if(!p(this.root,e))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const r=[];let o=e,n=e;for(this._currentNode=e;o&&o!==this.root;)if(o.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const a=o,c=this._doc.createTreeWalker(a,this.whatToShow,{acceptNode:this._acceptNode});r.push(c),c.currentNode=n,this._currentSetFor.add(c),o=n=a.host}else o=o.parentNode;const i=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});r.push(i),i.currentNode=n,this._currentSetFor.add(i),this._walkerStack=r}get doc(){return this._doc}firstChild(){let e=this.currentNode,r=this.nextNode();return p(e,r)?(r&&(this.currentNode=r),r):(this.currentNode=e,null)}lastChild(){let r=this._walkerStack[0].lastChild();return r&&(this.currentNode=r),r}nextNode(){const e=this._walkerStack[0].nextNode();if(e){if(e.shadowRoot){var r;let n;if(typeof this.filter=="function"?n=this.filter(e):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(n=this.filter.acceptNode(e)),n===NodeFilter.FILTER_ACCEPT)return this.currentNode=e,e;let i=this.nextNode();return i&&(this.currentNode=i),i}return e&&(this.currentNode=e),e}else if(this._walkerStack.length>1){this._walkerStack.shift();let o=this.nextNode();return o&&(this.currentNode=o),o}else return null}previousNode(){const e=this._walkerStack[0];if(e.currentNode===e.root){if(this._currentSetFor.has(e))if(this._currentSetFor.delete(e),this._walkerStack.length>1){this._walkerStack.shift();let n=this.previousNode();return n&&(this.currentNode=n),n}else return null;return null}const r=e.previousNode();if(r){if(r.shadowRoot){var o;let i;if(typeof this.filter=="function"?i=this.filter(r):!((o=this.filter)===null||o===void 0)&&o.acceptNode&&(i=this.filter.acceptNode(r)),i===NodeFilter.FILTER_ACCEPT)return r&&(this.currentNode=r),r;let a=this.lastChild();return a&&(this.currentNode=a),a}return r&&(this.currentNode=r),r}else if(this._walkerStack.length>1){this._walkerStack.shift();let n=this.previousNode();return n&&(this.currentNode=n),n}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(e,r,o,n){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=a=>{if(a.nodeType===Node.ELEMENT_NODE){const b=a.shadowRoot;if(b){const N=this._doc.createTreeWalker(b,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(N),NodeFilter.FILTER_ACCEPT}else{var c;if(typeof this.filter=="function")return this.filter(a);if(!((c=this.filter)===null||c===void 0)&&c.acceptNode)return this.filter.acceptNode(a);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=e,this.root=r,this.filter=n??null,this.whatToShow=o??NodeFilter.SHOW_ALL,this._currentNode=r,this._walkerStack.unshift(e.createTreeWalker(r,o,this._acceptNode));const i=r.shadowRoot;if(i){const a=this._doc.createTreeWalker(i,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(a)}}}function I(t,e,r,o){return l()?new _(t,e,r,o):t.createTreeWalker(e,r,o)}function j(t){if(k())t.focus({preventScroll:!0});else{let e=g(t);t.focus(),S(e)}}let d=null;function k(){if(d==null){d=!1;try{document.createElement("div").focus({get preventScroll(){return d=!0,!0}})}catch{}}return d}function g(t){let e=t.parentNode,r=[],o=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==o;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&r.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return o instanceof HTMLElement&&r.push({element:o,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),r}function S(t){for(let{element:e,scrollTop:r,scrollLeft:o}of t)e.scrollTop=r,e.scrollLeft=o}function w(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(r=>t.test(r.brand)))||t.test(window.navigator.userAgent)}function x(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function u(t){let e=null;return()=>(e==null&&(e=t()),e)}const B=u(function(){return x(/^Mac/i)}),H=u(function(){return w(/Chrome/i)}),L=u(function(){return w(/Android/i)});let s=new Map,f=new Set;function $(){if(typeof window>"u")return;function t(o){return"propertyName"in o}let e=o=>{if(!t(o)||!o.target)return;let n=s.get(o.target);n||(n=new Set,s.set(o.target,n),o.target.addEventListener("transitioncancel",r,{once:!0})),n.add(o.propertyName)},r=o=>{if(!t(o)||!o.target)return;let n=s.get(o.target);if(n&&(n.delete(o.propertyName),n.size===0&&(o.target.removeEventListener("transitioncancel",r),s.delete(o.target)),s.size===0)){for(let i of f)i();f.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?$():document.addEventListener("DOMContentLoaded",$));function y(){for(const[t]of s)"isConnected"in t&&!t.isConnected&&s.delete(t)}function z(t){requestAnimationFrame(()=>{y(),s.size===0?t():f.add(t)})}function U(t){return t.mozInputSource===0&&t.isTrusted?!0:L()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}const h=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],R=h.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";h.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const C=h.join(':not([hidden]):not([tabindex="-1"]),');function G(t){return t.matches(R)}function q(t){return t.matches(C)}export{O as $,M as a,P as b,v as c,W as d,L as e,H as f,q as g,G as h,I as i,U as j,B as k,z as l,j as m};
