import{a as V,b as A,c as I,d as b,e as Or,f as sr,g as q,_ as Pr,h as Tr}from"./vendor-tslib-Og7FjQ6G.js";function l(r){return typeof r=="function"}function ar(r){var t=function(n){Error.call(n),n.stack=new Error().stack},e=r(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var G=ar(function(r){return function(e){r(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Y(r,t){if(r){var e=r.indexOf(t);0<=e&&r.splice(e,1)}}var j=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,e,n,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=V(u),a=s.next();!a.done;a=s.next()){var c=a.value;c.remove(this)}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if(l(f))try{f()}catch(h){o=h instanceof G?h.errors:[h]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var v=V(d),y=v.next();!y.done;y=v.next()){var w=y.value;try{X(w)}catch(h){o=o??[],h instanceof G?o=A(A([],I(o)),I(h.errors)):o.push(h)}}}catch(h){n={error:h}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}if(o)throw new G(o)}},r.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)X(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},r.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},r.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},r.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Y(e,t)},r.prototype.remove=function(t){var e=this._finalizers;e&&Y(e,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}(),cr=j.EMPTY;function fr(r){return r instanceof j||r&&"closed"in r&&l(r.remove)&&l(r.add)&&l(r.unsubscribe)}function X(r){l(r)?r():r.unsubscribe()}var Cr={Promise:void 0},jr={setTimeout:function(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return setTimeout.apply(void 0,A([r,t],I(e)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function lr(r){jr.setTimeout(function(){throw r})}function z(){}function W(r){r()}var B=function(r){b(t,r);function t(e){var n=r.call(this)||this;return n.isStopped=!1,e?(n.destination=e,fr(e)&&e.add(n)):n.destination=Lr,n}return t.create=function(e,n,i){return new T(e,n,i)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(j),kr=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(n){F(n)}},r.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(n){F(n)}else F(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){F(e)}},r}(),T=function(r){b(t,r);function t(e,n,i){var o=r.call(this)||this,u;return l(e)||!e?u={next:e??void 0,error:n??void 0,complete:i??void 0}:u=e,o.destination=new kr(u),o}return t}(B);function F(r){lr(r)}function Rr(r){throw r}var Lr={closed:!0,next:z,error:Rr,complete:z},J=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function k(r){return r}function Ur(r){return r.length===0?k:r.length===1?r[0]:function(e){return r.reduce(function(n,i){return i(n)},e)}}var p=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this,o=Fr(t)?t:new T(t,e,n);return W(function(){var u=i,s=u.operator,a=u.source;o.add(s?s.call(o,a):a?i._subscribe(o):i._trySubscribe(o))}),o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},r.prototype.forEach=function(t,e){var n=this;return e=N(e),new e(function(i,o){var u=new T({next:function(s){try{t(s)}catch(a){o(a),u.unsubscribe()}},error:o,complete:i});n.subscribe(u)})},r.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},r.prototype[J]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ur(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=N(t),new t(function(n,i){var o;e.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},r.create=function(t){return new r(t)},r}();function N(r){var t;return(t=r??Cr.Promise)!==null&&t!==void 0?t:Promise}function Mr(r){return r&&l(r.next)&&l(r.error)&&l(r.complete)}function Fr(r){return r&&r instanceof B||Mr(r)&&fr(r)}function Wr(r){return l(r==null?void 0:r.lift)}function m(r){return function(t){if(Wr(t))return t.lift(function(e){try{return r(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function g(r,t,e,n,i){return new Vr(r,t,e,n,i)}var Vr=function(r){b(t,r);function t(e,n,i,o,u,s){var a=r.call(this,e)||this;return a.onFinalize=u,a.shouldUnsubscribe=s,a._next=n?function(c){try{n(c)}catch(f){e.error(f)}}:r.prototype._next,a._error=o?function(c){try{o(c)}catch(f){e.error(f)}finally{this.unsubscribe()}}:r.prototype._error,a._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:r.prototype._complete,a}return t.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},t}(B),Yr=ar(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),K=function(r){b(t,r);function t(){var e=r.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype.lift=function(e){var n=new rr(this,this);return n.operator=e,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new Yr},t.prototype.next=function(e){var n=this;W(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=V(n.currentObservers),s=u.next();!s.done;s=u.next()){var a=s.value;a.next(e)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var n=this;W(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=e;for(var i=n.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;W(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var n=e.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(e){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var n=this,i=this,o=i.hasError,u=i.isStopped,s=i.observers;return o||u?cr:(this.currentObservers=null,s.push(e),new j(function(){n.currentObservers=null,Y(s,e)}))},t.prototype._checkFinalizedStatuses=function(e){var n=this,i=n.hasError,o=n.thrownError,u=n.isStopped;i?e.error(o):u&&e.complete()},t.prototype.asObservable=function(){var e=new p;return e.source=this,e},t.create=function(e,n){return new rr(e,n)},t}(p),rr=function(r){b(t,r);function t(e,n){var i=r.call(this)||this;return i.destination=e,i.source=n,i}return t.prototype.next=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)},t.prototype.error=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)},t.prototype.complete=function(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)},t.prototype._subscribe=function(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:cr},t}(K),je=function(r){b(t,r);function t(e){var n=r.call(this)||this;return n._value=e,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(e){var n=r.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},t.prototype.getValue=function(){var e=this,n=e.hasError,i=e.thrownError,o=e._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},t}(K),$={now:function(){return($.delegate||Date).now()},delegate:void 0},Kr=function(r){b(t,r);function t(e,n,i){e===void 0&&(e=1/0),n===void 0&&(n=1/0),i===void 0&&(i=$);var o=r.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(e){var n=this,i=n.isStopped,o=n._buffer,u=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;i||(o.push(e),!u&&o.push(s.now()+a)),this._trimBuffer(),r.prototype.next.call(this,e)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(e),i=this,o=i._infiniteTimeWindow,u=i._buffer,s=u.slice(),a=0;a<s.length&&!e.closed;a+=o?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),n},t.prototype._trimBuffer=function(){var e=this,n=e._bufferSize,i=e._timestampProvider,o=e._buffer,u=e._infiniteTimeWindow,s=(u?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!u){for(var a=i.now(),c=0,f=1;f<o.length&&o[f]<=a;f+=2)c=f;c&&o.splice(0,c+1)}},t}(K),qr=function(r){b(t,r);function t(e,n){return r.call(this)||this}return t.prototype.schedule=function(e,n){return this},t}(j),er={setInterval:function(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return setInterval.apply(void 0,A([r,t],I(e)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},Gr=function(r){b(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(e,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=e;var o=this.id,u=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(u,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(u,this.id,n),this},t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),er.setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&er.clearInterval(n)},t.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,n){var i=!1,o;try{this.work(e)}catch(u){i=!0,o=u||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var e=this,n=e.id,i=e.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Y(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},t}(qr),tr=function(){function r(t,e){e===void 0&&(e=r.now),this.schedulerActionCtor=t,this.now=e}return r.prototype.schedule=function(t,e,n){return e===void 0&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},r.now=$.now,r}(),Zr=function(r){b(t,r);function t(e,n){n===void 0&&(n=tr.now);var i=r.call(this,e,n)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(e){var n=this.actions;if(this._active){n.push(e);return}var i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}},t}(tr),Br=new Zr(Gr),Jr=new p(function(r){return r.complete()});function $r(r){return r&&l(r.schedule)}function D(r){return r[r.length-1]}function Dr(r){return l(D(r))?r.pop():void 0}function R(r){return $r(D(r))?r.pop():void 0}function Hr(r,t){return typeof D(r)=="number"?r.pop():t}var H=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function hr(r){return l(r==null?void 0:r.then)}function vr(r){return l(r[J])}function dr(r){return Symbol.asyncIterator&&l(r==null?void 0:r[Symbol.asyncIterator])}function pr(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Qr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yr=Qr();function br(r){return l(r==null?void 0:r[yr])}function mr(r){return Or(this,arguments,function(){var e,n,i,o;return sr(this,function(u){switch(u.label){case 0:e=r.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,q(e.read())];case 3:return n=u.sent(),i=n.value,o=n.done,o?[4,q(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,q(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function wr(r){return l(r==null?void 0:r.getReader)}function S(r){if(r instanceof p)return r;if(r!=null){if(vr(r))return Xr(r);if(H(r))return zr(r);if(hr(r))return Nr(r);if(dr(r))return gr(r);if(br(r))return re(r);if(wr(r))return ee(r)}throw pr(r)}function Xr(r){return new p(function(t){var e=r[J]();if(l(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zr(r){return new p(function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}function Nr(r){return new p(function(t){r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,lr)})}function re(r){return new p(function(t){var e,n;try{for(var i=V(r),o=i.next();!o.done;o=i.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t.complete()})}function gr(r){return new p(function(t){te(r,t).catch(function(e){return t.error(e)})})}function ee(r){return gr(mr(r))}function te(r,t){var e,n,i,o;return Pr(this,void 0,void 0,function(){var u,s;return sr(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),e=Tr(r),a.label=1;case 1:return[4,e.next()];case 2:if(n=a.sent(),!!n.done)return[3,4];if(u=n.value,t.next(u),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=a.sent(),i={error:s},[3,11];case 6:return a.trys.push([6,,9,10]),n&&!n.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function _(r,t,e,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){e(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(o),!i)return o}function Sr(r,t){return t===void 0&&(t=0),m(function(e,n){e.subscribe(g(n,function(i){return _(n,r,function(){return n.next(i)},t)},function(){return _(n,r,function(){return n.complete()},t)},function(i){return _(n,r,function(){return n.error(i)},t)}))})}function _r(r,t){return t===void 0&&(t=0),m(function(e,n){n.add(r.schedule(function(){return e.subscribe(n)},t))})}function ne(r,t){return S(r).pipe(_r(t),Sr(t))}function ie(r,t){return S(r).pipe(_r(t),Sr(t))}function oe(r,t){return new p(function(e){var n=0;return t.schedule(function(){n===r.length?e.complete():(e.next(r[n++]),e.closed||this.schedule())})})}function ue(r,t){return new p(function(e){var n;return _(e,t,function(){n=r[yr](),_(e,t,function(){var i,o,u;try{i=n.next(),o=i.value,u=i.done}catch(s){e.error(s);return}u?e.complete():e.next(o)},0,!0)}),function(){return l(n==null?void 0:n.return)&&n.return()}})}function xr(r,t){if(!r)throw new Error("Iterable cannot be null");return new p(function(e){_(e,t,function(){var n=r[Symbol.asyncIterator]();_(e,t,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}function se(r,t){return xr(mr(r),t)}function ae(r,t){if(r!=null){if(vr(r))return ne(r,t);if(H(r))return oe(r,t);if(hr(r))return ie(r,t);if(dr(r))return xr(r,t);if(br(r))return ue(r,t);if(wr(r))return se(r,t)}throw pr(r)}function L(r,t){return t?ae(r,t):S(r)}function ke(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=R(r);return L(r,e)}function Er(r,t){return m(function(e,n){var i=0;e.subscribe(g(n,function(o){n.next(r.call(t,o,i++))}))})}var ce=Array.isArray;function fe(r,t){return ce(t)?r.apply(void 0,A([],I(t))):r(t)}function Ir(r){return Er(function(t){return fe(r,t)})}var le=Array.isArray,he=Object.getPrototypeOf,ve=Object.prototype,de=Object.keys;function pe(r){if(r.length===1){var t=r[0];if(le(t))return{args:t,keys:null};if(ye(t)){var e=de(t);return{args:e.map(function(n){return t[n]}),keys:e}}}return{args:r,keys:null}}function ye(r){return r&&typeof r=="object"&&he(r)===ve}function be(r,t){return r.reduce(function(e,n,i){return e[n]=t[i],e},{})}function Re(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=R(r),n=Dr(r),i=pe(r),o=i.args,u=i.keys;if(o.length===0)return L([],e);var s=new p(me(o,e,u?function(a){return be(u,a)}:k));return n?s.pipe(Ir(n)):s}function me(r,t,e){return e===void 0&&(e=k),function(n){nr(t,function(){for(var i=r.length,o=new Array(i),u=i,s=i,a=function(f){nr(t,function(){var d=L(r[f],t),v=!1;d.subscribe(g(n,function(y){o[f]=y,v||(v=!0,s--),s||n.next(e(o.slice()))},function(){--u||n.complete()}))},n)},c=0;c<i;c++)a(c)},n)}}function nr(r,t,e){r?_(e,r,t):t()}function we(r,t,e,n,i,o,u,s){var a=[],c=0,f=0,d=!1,v=function(){d&&!a.length&&!c&&t.complete()},y=function(h){return c<n?w(h):a.push(h)},w=function(h){c++;var x=!1;S(e(h,f++)).subscribe(g(t,function(E){t.next(E)},function(){x=!0},void 0,function(){if(x)try{c--;for(var E=function(){var O=a.shift();u||w(O)};a.length&&c<n;)E();v()}catch(O){t.error(O)}}))};return r.subscribe(g(t,y,function(){d=!0,v()})),function(){}}function C(r,t,e){return e===void 0&&(e=1/0),l(t)?C(function(n,i){return Er(function(o,u){return t(n,o,i,u)})(S(r(n,i)))},e):(typeof t=="number"&&(e=t),m(function(n,i){return we(n,i,r,e)}))}function Ar(r){return r===void 0&&(r=1/0),C(k,r)}function ge(){return Ar(1)}function ir(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return ge()(L(r,R(r)))}var Se=["addListener","removeListener"],_e=["addEventListener","removeEventListener"],xe=["on","off"];function or(r,t,e,n){if(l(e)&&(n=e,e=void 0),n)return or(r,t,e).pipe(Ir(n));var i=I(Ae(r)?_e.map(function(s){return function(a){return r[s](t,a,e)}}):Ee(r)?Se.map(ur(r,t)):Ie(r)?xe.map(ur(r,t)):[],2),o=i[0],u=i[1];if(!o&&H(r))return C(function(s){return or(s,t,e)})(S(r));if(!o)throw new TypeError("Invalid event target");return new p(function(s){var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return s.next(1<c.length?c:c[0])};return o(a),function(){return u(a)}})}function ur(r,t){return function(e){return function(n){return r[e](t,n)}}}function Ee(r){return l(r.addListener)&&l(r.removeListener)}function Ie(r){return l(r.on)&&l(r.off)}function Ae(r){return l(r.addEventListener)&&l(r.removeEventListener)}function Le(r,t,e){return new p(function(n){var i=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return n.next(u.length===1?u[0]:u)},o=r(i);return l(t)?function(){return t(i,o)}:void 0})}function Ue(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=R(r),n=Hr(r,1/0),i=r;return i.length?i.length===1?S(i[0]):Ar(n)(L(i,e)):Jr}function Me(r,t){return l(t)?C(r,t,1):C(r,1)}function Fe(r,t){return t===void 0&&(t=Br),m(function(e,n){var i=null,o=null,u=null,s=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,n.next(c)}};function a(){var c=u+r,f=t.now();if(f<c){i=this.schedule(void 0,c-f),n.add(i);return}s()}e.subscribe(g(n,function(c){o=c,u=t.now(),i||(i=t.schedule(a,r),n.add(i))},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function Oe(r,t){return t===void 0&&(t=k),r=r??Pe,m(function(e,n){var i,o=!0;e.subscribe(g(n,function(u){var s=t(u);(o||!r(i,s))&&(o=!1,i=s,n.next(u))}))})}function Pe(r,t){return r===t}function We(r,t){return Oe(function(e,n){return e[r]===n[r]})}function Ve(){return m(function(r,t){var e,n=!1;r.subscribe(g(t,function(i){var o=e;e=i,n&&t.next([o,i]),n=!0}))})}function Te(r){r===void 0&&(r={});var t=r.connector,e=t===void 0?function(){return new K}:t,n=r.resetOnError,i=n===void 0?!0:n,o=r.resetOnComplete,u=o===void 0?!0:o,s=r.resetOnRefCountZero,a=s===void 0?!0:s;return function(c){var f,d,v,y=0,w=!1,h=!1,x=function(){d==null||d.unsubscribe(),d=void 0},E=function(){x(),f=v=void 0,w=h=!1},O=function(){var P=f;E(),P==null||P.unsubscribe()};return m(function(P,Q){y++,!h&&!w&&x();var U=v=v??e();Q.add(function(){y--,y===0&&!h&&!w&&(d=Z(O,a))}),U.subscribe(Q),!f&&y>0&&(f=new T({next:function(M){return U.next(M)},error:function(M){h=!0,x(),d=Z(E,i,M),U.error(M)},complete:function(){w=!0,x(),d=Z(E,u),U.complete()}}),S(P).subscribe(f))})(c)}}function Z(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];if(t===!0){r();return}if(t!==!1){var i=new T({next:function(){i.unsubscribe(),r()}});return S(t.apply(void 0,A([],I(e)))).subscribe(i)}}function Ye(r,t,e){var n,i,o,u,s=!1;return r&&typeof r=="object"?(n=r.bufferSize,u=n===void 0?1/0:n,i=r.windowTime,t=i===void 0?1/0:i,o=r.refCount,s=o===void 0?!1:o,e=r.scheduler):u=r??1/0,Te({connector:function(){return new Kr(u,t,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Ke(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=R(r);return m(function(n,i){(e?ir(r,n,e):ir(r,n)).subscribe(i)})}function qe(r,t){return t===void 0&&(t=!1),m(function(e,n){var i=0;e.subscribe(g(n,function(o){var u=r(o,i++);(u||t)&&n.next(o),!u&&n.complete()}))})}export{je as B,Kr as R,We as a,Ue as b,Re as c,Oe as d,Ke as e,Me as f,L as g,or as h,Fe as i,Le as j,Er as m,ke as o,Ve as p,Ye as s,qe as t};
